{% extends 'base_dashboard.html' %}
{% load static %}
{% block content %}
<div class="row">
    <div class="col-md-4">
        <div class="card shadow-sm p-3 mb-4 bg-white">
            <h5>Total Employees</h5>
            <h2 class="text-primary">{% for i in data1 %} {{i.employee_id}} {% endfor %}</h2>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm p-3 mb-4 bg-white">
            <h5>Present Today</h5>
            <h2 class="text-success">{% for i in data2 %} {{i.present_employee}} {% endfor %}</h2>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm p-3 mb-4 bg-white">
            <h5>Absent Today</h5>
            <h2 class="text-danger">{% for i in data3 %} {{i.absent_employee}} {% endfor %}</h2>
        </div>
    </div>
</div>

<div class="card shadow-sm p-4 bg-white">
    <h5 class="mb-3">Recent Attendance</h5>
    
    <div class="table-responsive">
    <table class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>Name</th>
                <th>Department</th>
                <th>Check In</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for i in data4 %} 
            <tr>
                <td>{{i.full_name}} </td>
                <td>{{i.department}} </td>
                <td>{{i.check_in}} </td>
                <td>
                    {% if i.attendance_status == "Present" %}
                    <span class="badge badge-success">Present</span>
                    {% elif i.attendance_status == "Absent" %}
                    <span class="badge badge-danger">Absent</span>
                    {% else %}
                    <span class="badge badge-secondary">{{ i.attendance_status }}</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}

        </tbody>
    </table>
    </div>
</div>

{% endblock %}